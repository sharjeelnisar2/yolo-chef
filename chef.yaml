openapi: 3.0.1
info:
  title: YOLO Chef API
  description: YOLO Chef API Specification
  version: 0.0.1
servers:
  - url: /
paths:
  /api/v1/ideas/{ideaId}:
    get:
      tags:
        - ideas
      summary: Get idea detail by idea ID
      operationId: getIdeaDetailsByIdeaId
      parameters:
        - name: ideaId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Idea details retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdeaResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Idea not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  
  /api/v1/ideas:
    get:
      tags:
        - ideas
      summary: Get all ideas
      operationId: getAllIdeas
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: size
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1000
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/IdeaSummary'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                  
    post:
      tags:
        - ideas
      summary: Create an idea by customer
      operationId: createIdea
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IdeaRequest'
        required: true
      responses:
        '201':
          description: Idea created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ideas'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  
  /api/v1/chefs/{chefId}/recipes:
    get:
      tags:
        - recipes
      summary: Get all recipes by chef ID
      operationId: getRecipesByChefId
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RecipeSummary'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  
  /api/v1/ideas/{ideaId}/recipes:
    post:
      tags:
        - recipes
      summary: Create a recipe based on a specific idea
      operationId: createRecipe
      parameters:
        - name: ideaId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        description: Recipe details to be created
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecipeRequest'
        required: true
      responses:
        '201':
          description: Recipe created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipes'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                
  /api/v1/chefs/{chefId}/recipes/{recipeId}:
    get:
      tags:
        - recipes
      summary: Get the recipe details by recipe ID
      operationId: getRecipeDetails
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: recipeId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Recipe details fetched successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecipeDetailSummary'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                
    patch:
      tags:
        - recipes
      summary: Update recipe status
      operationId: updateRecipeStatus
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: recipeId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: integer
                  description: The new status for the recipe.
              required:
                - status
        required: true
      responses:
        '201':
          description: Recipe updated successfully
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        
  /api/v1/orders:
    post:
      tags:
        - orders
      summary: Create a new order
      operationId: createOrder
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRequest'
        required: true
            
      responses:
        '201':
          description: Order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                
  /api/v1/chefs/{chefId}/orders:
    get:
      tags:
        - orders
      summary: Retrieve all orders by chef ID
      operationId: getOrdersByChefId
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: The ID of the chef for whom to retrieve orders.
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 0
          description: The page number for pagination.
        - name: size
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 100
          description: The number of orders per page for pagination.
      responses:
        '200':
          description: A list of orders associated with the specified chef.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrderResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          
  /api/v1/chefs/{chefId}/orders/{orderId}:
    get:
      tags:
        - orders
      summary: Get order details by order ID
      operationId: getOrderDetailByOrderId
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: orderId
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Order details fetched successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderDetailResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Order not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    patch:
      tags:
        - orders
      summary: Update order status by order ID
      operationId: updateOrderStatusByOrderId
      parameters:
        - name: chefId
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: orderId
          in: path
          required: true
          schema:
            type: integer
            format: int32
            
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: integer
                  description: The new status for the order.
              required:
                - status
        required: true
      responses:
        '201':
          description: Order updated successfully
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Order not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          
components:
  schemas:
    Ideas:
      type: object
      properties:
        id:
          type: integer
          format: int32
        customer_name:
          type: string
        title:
          type: string
        description:
          type: string
        idea_code:
          type: string
        created_at:
          type: string
          format: date-time
    Restrictions:
      type: object
      properties:
        id:
          type: integer
        text:
          type: string
        idea_id:
          type: integer
    Interests:
      type: object
      properties:
        id:
          type: integer
        text:
          type: string
        idea_id:
          type: integer
    IdeaSummary:
      type: object
      properties:
        customer_name:
          type: string
        title:
          type: string
        description:
          type: string
        created_at:
          type: string
          format: DATETIME
      required:
        - customer_name
        - title
        - description
    IdeaRequest:
      type: object
      properties:
        customer_name:
          type: string
        title:
          type: string
        description:
          type: string
        idea_code:
          type: string
        interests:
          type: array
          items:
            type: string
        restrictions:
          type: array
          items:
            type: string
      required:
        - customer_name
        - title
        - idea_code
    IdeaResponse:
      type: object
      properties:
        customer_name:
          type: string
        title:
          type: string
        description:
          type: string
        created_at:
          type: string
          format: DATETIME

        interests:
          type: array
          items:
            type: string
        restrictions:
          type: array
          items:
            type: string
      required:
        - customer_name
        - title
        - idea_code
    Recipes:
      type: object
      properties:
        id:
          type: integer
          format: int32
        title:
          type: string
          maxLength: 20
        description:
          type: string
          maxLength: 255
        price:
          type: integer
          format: int64
        serving_size:
          type: integer
        code:
          type: string
          maxLength: 5
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        user_id:
          type: integer
        idea_id:
          type: integer
        recipe_status_id:
          type: integer
      required:
        - title
        - description
        - price
        - serving_size
        - code
        - user_id
        - idea_id
        - recipe_status_id
    RecipeRequest:
      type: object
      properties:
        chef_id:
          type: integer
          format: int32
        title:
          type: string
          maxLength: 20
        description:
          type: string
          maxLength: 255
        price:
          type: integer
          format: int64
        serving_size:
          type: integer
        images:
          type: array
          items:
              type: object
              properties:
                  url:
                    type: string
                    example: "https://example.com/images/spaghetti-carbonara.jpg"
                      
      required:
        - title
        - description
        - price
        - serving_size
    RecipeSummary:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        serving_size:
          type: integer
        price:
          type: integer
          format: int64
        idea_title:
          type: string
        images:
          type: array
          items:
              type: object
              properties:
                  url:
                    type: string
                    example: "https://example.com/images/spaghetti-carbonara.jpg"
      required:
        - title
        - description
        - serving_size
        - price
        - idea_title
        - status
        - images
    RecipeDetailSummary:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        serving_size:
          type: integer
        price:
          type: integer
          format: int64
        idea_title:
          type: string
        status:
          type: string
        created_at:
          type: string
          format: DATETIME
        images:
          type: array
          items:
              type: object
              properties:
                  url:
                    type: string
                    example: "https://example.com/images/spaghetti-carbonara.jpg"
      required:
        - title
        - description
        - serving_size
        - price
        - idea_title
        - status
        - images
    Order:
      type: object
      properties:
        id:
          type: integer
          format: int64
        price:
          type: integer
        order_code:
          type: string
        customer_customer_no:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        address_id:
          type: integer
        order_status_id:
          type: integer
    OrderItem:
      type: object
      properties:
        id:
          type: integer
        quantity:
          type: integer
        price:
          type: integer
        recipe_id:
          type: integer
        order_id:
          type: integer
    OrderRequest:
      type: object
      properties:
                price:
                  type: integer
                  example: 19999
                order_code:
                  type: string
                  example: "ORD01"
                customer_contact_no:
                  type: string
                  example: "+1234567890"
                address:
                  type: object
                  properties:
                    house_no:
                      type: integer
                      example: 123
                    street_no:
                      type: integer
                      example: 456
                    area:
                      type: string
                      example: "Downtown"
                    city:
                      type: string
                      example: "Metropolis"
                    country:
                      type: string
                      example: "US"
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      quantity:
                        type: integer
                        example: 2
                      price:
                        type: integer
                        example: 9999
                      recipe_code:
                        type: integer
                        example: 101
      required:
                - price
                - order_code
                - customer_mobile_no
                - address
                - order_status_id
                - items
                
    OrderResponse:
      type: object
      properties:
        order_id:
          type: integer
          format: int32
        customer_name:
          type: string
        price:
          type: integer
        recipe_name:
          type: string
        quantity:
          type: integer
          format: int32
        created_at:
          type: string
          format: DATETIME
    OrderDetailResponse:
      type: object
      properties:
        customer_name:
          type: string
        price:
          type: integer
        customer_contact_no:
          type: string
        address:
          type: object
          properties:
            house_no:
              type: integer
            street_no:
              type: integer
            area:
              type: string
            city:
              type: string
            country:
              type: string
        status:
          type: string
        items:
          type: object
          properties:
            recipe_name:
              type: string
            quantity:
              type: integer
            price:
              type: integer
            serving_size:
              type: integer
              format: int32
          
            
    ErrorResponse:
      type: object
      properties:
        message:
          type: string
          description: Error message
      required:
        - message
        